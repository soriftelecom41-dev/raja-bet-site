
<!DOCTYPE html>
<html>
<head>
  <title>RAJA BET</title>
  <style>
    body{background:#111;color:white;font-family:Arial;text-align:center}
    .card{background:#222;margin:10px;padding:15px;border-radius:10px}
    button{padding:10px 20px;margin:5px;border:none;border-radius:5px}
    .green{background:green;color:white}
    .red{background:red;color:white}
    .yellow{background:orange}
  </style>
</head>
<body>

<h1>RAJA BET</h1>
<h3>Balance: à§³ <span id="bal">0</span></h3>

<div class="card">
  <button class="green" onclick="deposit()">Deposit</button>
  <button class="red" onclick="withdraw()">Withdraw</button>
</div>

<div class="card">
  <a href="game.html"><button class="yellow">ðŸŽ® Play Game</button></a>
</div>

<script>
let users = JSON.parse(localStorage.getItem("users")) || {};
let currentUser = localStorage.getItem("currentUser");

if(!currentUser){
  alert("Please login first");
  window.location.href = "login.html";
}

let bal = users[currentUser]?.balance || 0;
document.getElementById("bal").innerText = bal;

function deposit(){
  let amt = prompt("Deposit amount");
  if(!amt) return;

  let req = JSON.parse(localStorage.getItem("requests")) || [];
  req.push({
    user: currentUser,
    type: "deposit",
    amount: Number(amt),
    status: "pending"
  });

  localStorage.setItem("requests", JSON.stringify(req));
  alert("Deposit request sent");
}

function withdraw(){
  let amt = prompt("Withdraw amount");
  if(!amt) return;

  let req = JSON.parse(localStorage.getItem("requests")) || [];
  req.push({
    user: currentUser,
    type: "withdraw",
    amount: Number(amt),
    status: "pending"
  });

  localStorage.setItem("requests", JSON.stringify(req));
  alert("Withdraw request sent");
}
</script>

</body>
</html>
