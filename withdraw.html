<!DOCTYPE html>
<html>
<head>
<title>Withdraw</title>
<style>
body{background:#0b1220;color:#fff;font-family:Arial}
.box{margin:50px auto;width:90%;max-width:400px}
input,button{
 width:100%;padding:12px;margin:10px 0;
 border-radius:8px;border:none;font-size:16px
}
button{background:#ff5252;color:#fff}
</style>
</head>
<body>

<div class="box">
<h2>üèß Withdraw</h2>

<input type="number" id="amount" placeholder="Amount ‡ß≥">
<input type="text" id="number" placeholder="bKash / Nagad Number">

<button onclick="withdraw()">Submit</button>
<a href="game.html" style="color:#aaa">‚Üê Back</a>
</div>

<script>
const user = localStorage.getItem("currentUser");
if(!user){
  location.href="login.html";
}

function withdraw(){
  let amount = Number(document.getElementById("amount").value);
  let number = document.getElementById("number").value;

  if(amount<=0 || !number) return alert("‡¶∏‡¶¨ ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡¶®");

  let balance = Number(localStorage.getItem("balance_"+user)) || 0;
  if(amount > balance) return alert("Balance ‡¶ï‡¶Æ ‡¶Ü‡¶õ‡ßá");

  let withdraws = JSON.parse(localStorage.getItem("withdraws")) || [];
  withdraws.push({
    user: user,
    amount: amount,
    number: number,
    time: Date.now()
  });

  localStorage.setItem("withdraws", JSON.stringify(withdraws));
  alert("Withdraw request sent. Admin approve ‡¶ï‡¶∞‡¶≤‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá");

  document.getElementById("amount").value="";
  document.getElementById("number").value="";
}
</script>

</body>
</html>
